!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("tslib"),require("@angular/platform-browser"),require("@angular/animations"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-toastr",["exports","@angular/core","rxjs","tslib","@angular/platform-browser","@angular/animations","@angular/common"],e):e(t["ngx-toastr"]={},t.ng.core,null,t.tslib,t.ng.platformBrowser,t.ng.animations,t.ng.common)}(this,function(t,f,r,c,e,i,s){"use strict";var o=function(){function t(t){this.el=t}return t.prototype.getContainerElement=function(){return this.el.nativeElement},t.decorators=[{type:f.Directive,args:[{selector:"[toastContainer]",exportAs:"toastContainer"}]}],t.ctorParameters=function(){return[{type:f.ElementRef}]},t}(),n=function(){function t(){}return t.decorators=[{type:f.NgModule,args:[{declarations:[o],exports:[o]}]}],t}(),m=function(){function t(t,e,i,s,o,n){var a=this;this.toastId=t,this.config=e,this.message=i,this.title=s,this.toastType=o,this.toastRef=n,this._onTap=new r.Subject,this._onAction=new r.Subject,this.toastRef.afterClosed().subscribe(function(){a._onAction.complete(),a._onTap.complete()})}return t.prototype.triggerTap=function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()},t.prototype.onTap=function(){return this._onTap.asObservable()},t.prototype.triggerAction=function(t){this._onAction.next(t)},t.prototype.onAction=function(){return this._onAction.asObservable()},t}(),v=function(){function t(t,e){this.component=t,this.injector=e}return t.prototype.attach=function(t,e){return(this._attachedHost=t).attach(this,e)},t.prototype.detach=function(){var t=this._attachedHost;if(t)return this._attachedHost=undefined,t.detach()},Object.defineProperty(t.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),t.prototype.setAttachedHost=function(t){this._attachedHost=t},t}(),a=function(){function t(){}return t.prototype.attach=function(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)},t.prototype.detach=function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=undefined,this._disposeFn&&(this._disposeFn(),this._disposeFn=undefined)},t.prototype.setDisposeFn=function(t){this._disposeFn=t},t}(),u=function(o){function t(t,e,i){var s=o.call(this)||this;return s._hostDomElement=t,s._componentFactoryResolver=e,s._appRef=i,s}return c.__extends(t,o),t.prototype.attachComponentPortal=function(t,e){var i,s=this,o=this._componentFactoryResolver.resolveComponentFactory(t.component);return i=o.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(function(){s._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i},t.prototype._getComponentRootNode=function(t){return t.hostView.rootNodes[0]},t}(a),h=function(){function t(t){this._portalHost=t}return t.prototype.attach=function(t,e){return void 0===e&&(e=!0),this._portalHost.attach(t,e)},t.prototype.detach=function(){return this._portalHost.detach()},t}(),p=function(){function t(){}return t.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},t.prototype._createContainer=function(){var t=document.createElement("div");t.classList.add("overlay-container"),document.body.appendChild(t),this._containerElement=t},t}(),l=function(){function t(t,e,i){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=i,this._paneElements={}}return t.prototype.create=function(t,e){return this._createOverlayRef(this.getPaneElement(t,e))},t.prototype.getPaneElement=function(t,e){return void 0===t&&(t=""),this._paneElements[t]||(this._paneElements[t]=this._createPaneElement(t,e)),this._paneElements[t]},t.prototype._createPaneElement=function(t,e){var i=document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),e?e.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i},t.prototype._createPortalHost=function(t){return new u(t,this._componentFactoryResolver,this._appRef)},t.prototype._createOverlayRef=function(t){return new h(this._createPortalHost(t))},t.decorators=[{type:f.Injectable}],t.ctorParameters=function(){return[{type:p},{type:f.ComponentFactoryResolver},{type:f.ApplicationRef}]},t}(),d=[l,p],g=function(){function t(t){this._overlayRef=t,this._afterClosed=new r.Subject,this._activate=new r.Subject,this._manualClose=new r.Subject}return t.prototype.manualClose=function(){this._manualClose.next(),this._manualClose.complete()},t.prototype.manualClosed=function(){return this._manualClose.asObservable()},t.prototype.close=function(){this._overlayRef.detach(),this._afterClosed.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete()},t.prototype.afterClosed=function(){return this._afterClosed.asObservable()},t.prototype.isInactive=function(){return this._activate.isStopped},t.prototype.activate=function(){this._activate.next(),this._activate.complete()},t.prototype.afterActivate=function(){return this._activate.asObservable()},t}(),y=function(){function t(t,e){this._toastPackage=t,this._parentInjector=e}return t.prototype.get=function(t,e){return t===m&&this._toastPackage?this._toastPackage:this._parentInjector.get(t,e)},t}(),_=new f.InjectionToken("ToastConfig"),C=function(){function t(t,e,i,s,o){this.overlay=e,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0;var n=new t.defaults;this.toastrConfig=c.__assign({},n,t.config),this.toastrConfig.iconClasses=c.__assign({},n.iconClasses,t.config.iconClasses)}return t.prototype.show=function(t,e,i,s){return void 0===i&&(i={}),void 0===s&&(s=""),this._preBuildNotification(s,t,e,this.applyConfig(i))},t.prototype.success=function(t,e,i){void 0===i&&(i={});var s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,e,this.applyConfig(i))},t.prototype.error=function(t,e,i){void 0===i&&(i={});var s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,e,this.applyConfig(i))},t.prototype.info=function(t,e,i){void 0===i&&(i={});var s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,e,this.applyConfig(i))},t.prototype.warning=function(t,e,i){void 0===i&&(i={});var s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,e,this.applyConfig(i))},t.prototype.clear=function(t){try{for(var e=c.__values(this.toasts),i=e.next();!i.done;i=e.next()){var s=i.value;if(t!==undefined){if(s.toastId===t)return void s.toastRef.manualClose()}else s.toastRef.manualClose()}}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=e["return"])&&n.call(e)}finally{if(o)throw o.error}}var o,n},t.prototype.remove=function(t){var e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0},t.prototype.isDuplicate=function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].message===t)return!0;return!1},t.prototype.applyConfig=function(t){return void 0===t&&(t={}),c.__assign({},this.toastrConfig,t)},t.prototype._findToast=function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null},t.prototype._preBuildNotification=function(t,e,i,s){var o=this;return s.onActivateTick?this.ngZone.run(function(){return o._buildNotification(t,e,i,s)}):this._buildNotification(t,e,i,s)},t.prototype._buildNotification=function(t,e,i,s){var o=this;if(!s.toastComponent)throw new Error("toastComponent required");if(e&&this.toastrConfig.preventDuplicates&&this.isDuplicate(e))return null;this.previousToastMessage=e;var n=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(n=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[this.toasts.length-1].toastId));var a=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;var r=e;e&&s.enableHtml&&(r=this.sanitizer.sanitize(f.SecurityContext.HTML,e));var c=new g(a),u=new m(this.index,s,r,i,t,c),h=new y(u,this._injector),p=new v(s.toastComponent,h),l=a.attach(p,this.toastrConfig.newestOnTop);c.componentInstance=l._component;var d={toastId:this.index,message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:l};return n||setTimeout(function(){d.toastRef.activate(),o.currentlyActive=o.currentlyActive+1}),this.toasts.push(d),d},t.decorators=[{type:f.Injectable}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:f.Inject,args:[_]}]},{type:l},{type:f.Injector},{type:e.DomSanitizer},{type:f.NgZone}]},t}(),T=function(){function t(t,e,i){var s=this;this.toastrService=t,this.toastPackage=e,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.toastClasses=e.toastType+" "+e.config.toastClass,this.sub=e.toastRef.afterActivate().subscribe(function(){s.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(function(){s.remove()})}return t.prototype.ngOnDestroy=function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)},t.prototype.activateToast=function(){var t=this;this.state=c.__assign({},this.state,{value:"active"}),!this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(function(){return t.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10))},t.prototype.updateProgress=function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime(),e=this.hideTime-t;this.width=e/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),100<=this.width&&(this.width=100)}},t.prototype.remove=function(){var t=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=c.__assign({},this.state,{value:"removed"}),this.outsideTimeout(function(){return t.toastrService.remove(t.toastPackage.toastId)},+this.toastPackage.config.easeTime))},t.prototype.tapToast=function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())},t.prototype.stickAround=function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)},t.prototype.delayedHideToast=function(){var t=this;this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(function(){return t.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10))},t.prototype.outsideTimeout=function(t,e){var i=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return i.timeout=setTimeout(function(){return i.runInsideAngular(t)},e)}):this.timeout=setTimeout(function(){return t()},e)},t.prototype.outsideInterval=function(t,e){var i=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return i.intervalId=setInterval(function(){return i.runInsideAngular(t)},e)}):this.intervalId=setInterval(function(){return t()},e)},t.prototype.runInsideAngular=function(t){this.ngZone?this.ngZone.run(function(){return t()}):t()},t.decorators=[{type:f.Component,args:[{selector:"[toast-component]",template:'\n  <button *ngIf="options.closeButton" (click)="remove()" class="toast-close-button" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n  <div *ngIf="title" [class]="options.titleClass" [attr.aria-label]="title">\n    {{ title }}\n  </div>\n  <div *ngIf="message && options.enableHtml" role="alertdialog" aria-live="polite"\n    [class]="options.messageClass" [innerHTML]="message">\n  </div>\n  <div *ngIf="message && !options.enableHtml" role="alertdialog" aria-live="polite"\n    [class]="options.messageClass" [attr.aria-label]="message">\n    {{ message }}\n  </div>\n  <div *ngIf="options.progressBar">\n    <div class="toast-progress" [style.width]="width + \'%\'"></div>\n  </div>\n  ',animations:[i.trigger("flyInOut",[i.state("inactive",i.style({display:"none",opacity:0})),i.state("active",i.style({})),i.state("removed",i.style({opacity:0})),i.transition("inactive => active",i.animate("{{ easeTime }}ms {{ easing }}")),i.transition("active => removed",i.animate("{{ easeTime }}ms {{ easing }}"))])],preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:C},{type:m},{type:f.NgZone}]},t.propDecorators={toastClasses:[{type:f.HostBinding,args:["class"]}],state:[{type:f.HostBinding,args:["@flyInOut"]}],tapToast:[{type:f.HostListener,args:["click"]}],stickAround:[{type:f.HostListener,args:["mouseenter"]}],delayedHideToast:[{type:f.HostListener,args:["mouseleave"]}]},t}(),b=function(){this.maxOpened=0,this.autoDismiss=!1,this.newestOnTop=!0,this.preventDuplicates=!1,this.iconClasses={error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},this.toastComponent=T,this.closeButton=!1,this.timeOut=5e3,this.extendedTimeOut=1e3,this.enableHtml=!1,this.progressBar=!1,this.toastClass="toast",this.positionClass="toast-top-right",this.titleClass="toast-title",this.messageClass="toast-message",this.easing="ease-in",this.easeTime=300,this.tapToDismiss=!0,this.onActivateTick=!1,this.progressAnimation="decreasing"},w=function(){function e(t){if(t)throw new Error("ToastrModule is already loaded. It should only be imported in your application's main module.")}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:_,useValue:{config:t,defaults:b}},p,l,C]}},e.decorators=[{type:f.NgModule,args:[{imports:[s.CommonModule],exports:[T],declarations:[T],entryComponents:[T]}]}],e.ctorParameters=function(){return[{type:e,decorators:[{type:f.Optional},{type:f.SkipSelf}]}]},e}(),O=function(){function t(t,e,i){var s=this;this.toastrService=t,this.toastPackage=e,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.toastClasses=e.toastType+" "+e.config.toastClass,this.sub=e.toastRef.afterActivate().subscribe(function(){s.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(function(){s.remove()})}return Object.defineProperty(t.prototype,"displayStyle",{get:function(){return"inactive"===this.state?"none":"inherit"},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)},t.prototype.activateToast=function(){var t=this;this.state="active",!this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(function(){t.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()},t.prototype.updateProgress=function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime(),e=this.hideTime-t;this.width=e/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),100<=this.width&&(this.width=100)}},t.prototype.remove=function(){var t=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(function(){return t.toastrService.remove(t.toastPackage.toastId)}))},t.prototype.tapToast=function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())},t.prototype.stickAround=function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)},t.prototype.delayedHideToast=function(){var t=this;this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(function(){return t.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10)))},t.decorators=[{type:f.Component,args:[{selector:"[toast-component]",template:'\n  <button *ngIf="options.closeButton" (click)="remove()" class="toast-close-button" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n  <div *ngIf="title" [class]="options.titleClass" [attr.aria-label]="title">\n    {{ title }}\n  </div>\n  <div *ngIf="message && options.enableHtml" role="alert" aria-live="polite"\n    [class]="options.messageClass" [innerHTML]="message">\n  </div>\n  <div *ngIf="message && !options.enableHtml" role="alert" aria-live="polite"\n    [class]="options.messageClass" [attr.aria-label]="message">\n    {{ message }}\n  </div>\n  <div *ngIf="options.progressBar">\n    <div class="toast-progress" [style.width]="width + \'%\'"></div>\n  </div>\n  '}]}],t.ctorParameters=function(){return[{type:C},{type:m},{type:f.ApplicationRef}]},t.propDecorators={toastClasses:[{type:f.HostBinding,args:["class"]}],displayStyle:[{type:f.HostBinding,args:["style.display"]}],tapToast:[{type:f.HostListener,args:["click"]}],stickAround:[{type:f.HostListener,args:["mouseenter"]}],delayedHideToast:[{type:f.HostListener,args:["mouseleave"]}]},t}(),I=function(){function t(){}return t.decorators=[{type:f.NgModule,args:[{imports:[s.CommonModule],declarations:[O],exports:[O],entryComponents:[O]}]}],t}();t.ToastContainerDirective=o,t.ToastContainerModule=n,t.Toast=T,t.ToastrService=C,t.ToastPackage=m,t.DefaultGlobalConfig=b,t.ToastrModule=w,t.ToastRef=g,t.ToastInjector=y,t.TOAST_CONFIG=_,t.ToastNoAnimation=O,t.ToastNoAnimationModule=I,t.ComponentPortal=v,t.BasePortalHost=a,t.Overlay=l,t.OVERLAY_PROVIDERS=d,t.OverlayContainer=p,t.OverlayRef=h,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-toastr.umd.min.js.map